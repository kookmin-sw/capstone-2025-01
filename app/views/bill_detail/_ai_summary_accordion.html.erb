<%# bill_summary %>
<!-- AI 요약 페이지 아코디언 UI -->

<div data-controller="accordion" class="accordion-container">
  <div class="accordion-header">
    <%# Add relative positioning for the gradient overlay %>
    <div class="accordion-header-content-wrapper" style="position: relative;">
      <div class="accordion-header-content" data-accordion-target="content">
        <%= markdown(current_bill_summary.content) %>
      </div>
      <%# Gradient overlay for truncation effect %>
      <div class="gradient-overlay" data-accordion-target="gradient"></div>
    </div>

    <!-- 더보기 화살표 버튼 -->
    <div class="arrow-button" data-action="click->accordion#toggle">
      <%= inline_svg("more", class: "arrow-icon", data: { accordion_target: "icon" }) %>
    </div>
  </div>
  <!-- AI 주의 정보 + 툴팁 -->
  <div class="ai-tooltip-wrapper" style="position: relative; overflow: visible;">
    <div class="ai-info-box">
      <%= inline_svg("alert_circle", class: "alert-circle-icon") %>
      <div class="ai-info-text">AI는 실수를 할 수 있어요</div>
    </div>
    <div class="ai-hover-box">
      <div class="ai-hover-text">
        💡 이 내용은 제안 이유와 ‘주요 내용’의 원문을 바탕으로 AI가 정리한 요약이에요. <br />
        <strong>최대한 정확하게 전달하려 노력했지만, AI도 가끔은 실수할 수 있어요.</strong><br />
        법안을 더 잘 이해하기 위한 도구로 활용해 주세요.
      </div>
    </div>
  </div>
</div>
